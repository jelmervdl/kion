{% extends 'admin/base.html.twig' %}

{% block body %}
<form method="post" action="{{ path('file_new') }}" enctype="multipart/form-data">
	<input type="file" name="files[]" multiple>
	<button type="submit">Upload</button>
</form>

<h2>Files</h2>
<form method="post" action="{{ path('file_batch_update') }}">
<div class="table-responsive">
	<table class="table table-striped table-sm">
		<thead>
			<tr>
				<th></th>
				<th>Name</th>
				<th>Public</th>
			</tr>
		</thead>
		<tbody>
			{% for file in files %}
				<tr>
					<td><input type="checkbox" name="file_id[]" value="{{ file.id }}"></td>
					<td><a href="{{ path('file_show', {slug: file.slug}) }}">{{ file.name }}</a></td>
					<td>{% if file.public %}Public{% else %}Private{% endif %}</td>
				</tr>
			{% endfor %}
		</tbody>
	</table>
</div>
<button type="submit" name="action" value="delete">Delete</button>
<button type="submit" name="action" value="publish">Publish</button>
</form>
{% endblock %}